{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport CustomInput from \"../components/CustomInput\";\nimport { useContext, useState } from 'react';\nimport { auth, db, userRef } from \"../firebase\";\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { setDoc, doc } from \"firebase/firestore\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar brandImg = require(\"../assets/Brand.png\");\nvar Register = function Register(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    name = _useState6[0],\n    setName = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    number = _useState8[0],\n    setNumber = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    username = _useState10[0],\n    setUsername = _useState10[1];\n  var _useContext = useContext(AuthContext),\n    u = _useContext.u,\n    setUser = _useContext.setUser;\n  var onRegister = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var cred = yield createUserWithEmailAndPassword(auth, email, password);\n      var user = cred.user;\n      if (user) {\n        try {\n          var document = doc(db, \"users\", user.uid);\n          var data = {\n            id: user.uid,\n            email: email,\n            name: name,\n            phone: number,\n            username: username\n          };\n          yield setDoc(document, data);\n          setUser(user);\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    });\n    return function onRegister() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(KeyboardAwareScrollView, {\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(View, {\n        style: styles.titleContainer,\n        children: _jsx(Image, {\n          style: styles.image,\n          source: brandImg\n        })\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(CustomInput, {\n          onChangeText: setName,\n          headerEnabled: true,\n          name: \"Name\",\n          placeholder: \"Your name\"\n        }), _jsx(CustomInput, {\n          onChangeText: setUsername,\n          headerEnabled: true,\n          name: \"Username\",\n          placeholder: \"Ryan Reynolds\"\n        }), _jsx(CustomInput, {\n          onChangeText: setEmail,\n          headerEnabled: true,\n          name: \"Email\",\n          placeholder: \"awesome@example.com\"\n        }), _jsx(CustomInput, {\n          onChangeText: setNumber,\n          headerEnabled: true,\n          type: \"number-pad\",\n          name: \"Phone Number\",\n          placeholder: \"This helps us connect you with people\"\n        }), _jsx(CustomInput, {\n          onChangeText: setPassword,\n          secure: true,\n          headerEnabled: true,\n          name: \"Password\",\n          placeholder: \"Don't share this!\"\n        })]\n      }), _jsxs(View, {\n        style: styles.submitContainer,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.buttonContainer,\n          onPress: onRegister,\n          children: _jsx(Text, {\n            style: styles.submitText,\n            children: \"Register\"\n          })\n        }), _jsxs(Text, {\n          style: styles.extra,\n          onPress: function onPress() {\n            navigation.navigate(\"Login\");\n          },\n          children: [\"Already have an account? \", _jsx(Text, {\n            style: styles.link,\n            children: \" Login\"\n          })]\n        })]\n      })]\n    })\n  });\n};\nexport default Register;\nvar styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: 10,\n    alignItems: \"center\",\n    backgroundColor: \"#FFF\",\n    flex: 1\n  },\n  image: {\n    height: 100,\n    resizeMode: \"contain\"\n  },\n  titleContainer: {\n    paddingTop: 60,\n    paddingBottom: 80\n  },\n  inputContainer: {\n    paddingHorizontal: 20,\n    width: \"100%\",\n    gap: 20,\n    marginBottom: 20\n  },\n  buttonContainer: {\n    backgroundColor: \"#e28f66\",\n    width: \"100%\",\n    height: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 5\n  },\n  submitContainer: {\n    paddingHorizontal: 20,\n    width: \"100%\",\n    alignItems: \"center\"\n  },\n  submitText: {\n    color: \"#FFF\",\n    fontSize: 18,\n    fontWeight: 400\n  },\n  extra: {\n    fontSize: 16,\n    marginTop: 10\n  },\n  link: {\n    color: \"#e28f66\"\n  }\n});","map":{"version":3,"names":["CustomInput","useContext","useState","auth","db","userRef","createUserWithEmailAndPassword","setDoc","doc","AuthContext","KeyboardAwareScrollView","jsx","_jsx","jsxs","_jsxs","brandImg","require","Register","_ref","navigation","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","name","setName","_useState7","_useState8","number","setNumber","_useState9","_useState10","username","setUsername","_useContext","u","setUser","onRegister","_ref2","_asyncToGenerator","cred","user","document","uid","data","id","phone","err","console","log","apply","arguments","children","View","style","styles","container","titleContainer","Image","image","source","inputContainer","onChangeText","headerEnabled","placeholder","type","secure","submitContainer","TouchableOpacity","buttonContainer","onPress","Text","submitText","extra","navigate","link","StyleSheet","create","paddingHorizontal","alignItems","backgroundColor","flex","height","resizeMode","paddingTop","paddingBottom","width","gap","marginBottom","justifyContent","borderRadius","color","fontSize","fontWeight","marginTop"],"sources":["C:/vscode/HH23/HackHarvard2023/app/pages/Register.js"],"sourcesContent":["import { Image, StyleSheet, Text, TouchableOpacity, View, Keyboard, KeyboardAvoidingView, Pressable, ScrollView } from 'react-native'\r\nimport CustomInput from '../components/CustomInput';\r\nimport { useContext, useState } from 'react';\r\nimport { auth, db, userRef } from '../firebase';\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { setDoc, doc } from \"firebase/firestore\";\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view'\r\n\r\n\r\nconst brandImg = require(\"../assets/Brand.png\")\r\n\r\nconst Register = ({ navigation }) => {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [name, setName] = useState(\"\")\r\n    const [number, setNumber] = useState(\"\")\r\n    const [username, setUsername] = useState(\"\")\r\n    const {u, setUser} = useContext(AuthContext)\r\n\r\n    const onRegister = async () => {\r\n        const cred = await createUserWithEmailAndPassword(auth, email, password);\r\n        const user = cred.user;\r\n        \r\n        if(user) {\r\n            try {\r\n                const document = doc(db, \"users\", user.uid)\r\n                const data = {\r\n                    id: user.uid,\r\n                    email: email,\r\n                    name: name,\r\n                    phone: number,\r\n                    username: username,\r\n                }\r\n\r\n                await setDoc(document, data);\r\n\r\n                setUser(user);\r\n\r\n            }\r\n            catch(err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n        <KeyboardAwareScrollView>\r\n            <View style={styles.container}>\r\n                <View style={styles.titleContainer}>\r\n                    <Image style={styles.image} source={brandImg} />\r\n                </View>\r\n                <View style={styles.inputContainer}>\r\n                    <CustomInput onChangeText={setName} headerEnabled name={\"Name\"} placeholder={\"Your name\"} />\r\n                    <CustomInput onChangeText={setUsername} headerEnabled name={\"Username\"} placeholder={\"Ryan Reynolds\"} />\r\n                    <CustomInput onChangeText={setEmail} headerEnabled name={\"Email\"} placeholder={\"awesome@example.com\"} />\r\n                    <CustomInput onChangeText={setNumber} headerEnabled type={\"number-pad\"} name={\"Phone Number\"} placeholder={\"This helps us connect you with people\"} />\r\n                    <CustomInput onChangeText={setPassword} secure headerEnabled name={\"Password\"} placeholder={\"Don't share this!\"} />\r\n                </View>\r\n                <View style={styles.submitContainer}>\r\n                    <TouchableOpacity style={styles.buttonContainer} onPress={onRegister}>\r\n                        <Text style={styles.submitText}>\r\n                            Register\r\n                        </Text>\r\n                    </TouchableOpacity>\r\n                    <Text style={styles.extra} onPress={() => { navigation.navigate(\"Login\") }}>\r\n                        Already have an account? <Text style={styles.link}> Login</Text>\r\n                    </Text>\r\n                </View>\r\n            </View> \r\n        </KeyboardAwareScrollView>\r\n        \r\n    )\r\n}\r\n\r\nexport default Register\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        paddingHorizontal: 10,\r\n        alignItems: \"center\",\r\n        backgroundColor: \"#FFF\",\r\n        flex: 1\r\n    },\r\n    image: {\r\n        height: 100,\r\n        resizeMode: \"contain\",\r\n\r\n    },\r\n    titleContainer: {\r\n        paddingTop: 60,\r\n        paddingBottom: 80\r\n    },\r\n    inputContainer: {\r\n        paddingHorizontal: 20,\r\n        width: \"100%\",\r\n        gap: 20,\r\n        marginBottom: 20\r\n    },\r\n    buttonContainer: {\r\n        backgroundColor: \"#e28f66\",\r\n        width: \"100%\",\r\n        height: 40,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        borderRadius: 5\r\n    },\r\n    submitContainer: {\r\n        paddingHorizontal: 20,\r\n        width: \"100%\",\r\n        alignItems: \"center\"\r\n    },\r\n    submitText: {\r\n        color: \"#FFF\",\r\n        fontSize: 18,\r\n        fontWeight: 400\r\n    },\r\n    extra: {\r\n        fontSize: 16,\r\n        marginTop: 10\r\n    },\r\n    link: {\r\n        color: \"#e28f66\"\r\n    }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}